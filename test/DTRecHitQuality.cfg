process DTRecHitQualityFromSimHit = {
    
    
    source = PoolSource{
	untracked vstring fileNames = {'file:/afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2007-01-18/single_mu_pt_10_100_negative_100ev.root'}
	untracked int32 maxEvents = -1
	untracked uint32 debugVebosity = 1
	untracked bool   debugFlag     = true
    }
    
    include "SimMuon/Configuration/data/SimMuon.cff"
    replace muonDTDigis.Smearing = 0.
    
    module mix = MixingModule {
	int32 bunchspace = 25
    }

    include "RecoLocalMuon/Configuration/data/RecoLocalMuon.cff"    
    


    module rechivalidation = DTRecHitQuality{
	# Switch on/off the verbosity
	untracked bool debug = true
	# Lable to retrieve SimHits from the event
	untracked string simHitLabel = 'g4SimHits'
	# Lable to retrieve RecHits from the event
	untracked string recHitLabel = 'dt1DRecHits'
	# Lable to retrieve 2D segments from the event
	untracked string segment2DLabel = 'dt2DSegments'
	# Lable to retrieve 4D segments from the event
	untracked string segment4DLabel = 'dt4DSegments'
	# Switches for analysis at various steps
	untracked bool doStep1 = true
	untracked bool doStep2 = true
	untracked bool doStep3 = true
	# Name of the root file which will contain the histos
	untracked string rootFileName = "DTRecHitQualityPlots.root"
    }	
    
    module seg2dvalidation = DTSegment2DQuality{
	# Switch on/off the verbosity
	untracked bool debug = false
	# Lable to retrieve SimHits from the event
	untracked string simHitLabel = 'g4SimHits'
	# Lable to retrieve 2D segments from the event
	untracked string segment2DLabel = 'dt2DSegments'
	double sigmaResPos = 0.013
	double sigmaResAngle = 0.008
	
	# Name of the root file which will contain the histos
	untracked string rootFileName = "DTSeg2DQualityPlots.root"
    }
    
    module seg4dvalidation = DTSegment4DQuality{
	# Switch on/off the verbosity
	untracked bool debug = true
	# Lable to retrieve SimHits from the event
	untracked string simHitLabel = 'g4SimHits'
	# Lable to retrieve 4D segments from the event
	untracked string segment4DLabel = 'dt4DSegments'
	#resolution on position
	double sigmaResX = 0.01
	double sigmaResY = 0.05
	#resolution on angle
	double sigmaResAlpha = 0.001
	double sigmaResBeta = 0.007
	
	# Name of the root file which will contain the histos
	untracked string rootFileName = "DTSeg4DQualityPlots.root"
    }
    
    # Run from SimHits
    path p = {mix, muonDTDigis, dt1DRecHits, dt2DSegments,dt4DSegments,
	rechivalidation, seg2dvalidation,seg4dvalidation}

    # Run from digis
    # path p = {dt1DRecHits, dt2DSegments,dt4DSegments,
    # rechivalidation, seg2dvalidation,seg4dvalidation}

    # Run from RecHits
    # path p = {rechivalidation, seg2dvalidation,seg4dvalidation}




}


