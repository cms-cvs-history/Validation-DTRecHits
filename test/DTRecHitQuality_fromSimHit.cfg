process DTRecHitQualityFromSimHit = {


	source = PoolSource{
			    untracked vstring fileNames = {'file:/data/c/cerminar/scratch0/LocalReco/data/CMSSW_0_7_0_pre4/simevent.root'}
		            untracked int32 maxEvents = -1
		  	    untracked uint32 debugVebosity = 1
                	    untracked bool   debugFlag     = true
        		   }

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/DTGeometry/data/dtGeometry.cfi"

	include "SimMuon/DTDigitizer/data/muondtdigi.cfi"
	replace muondtdigi.Smearing = 0.


	module mix = MixingModule {
	      int32 bunchspace = 25
	}


	include "RecoLocalMuon/DTRecHit/data/DTRecHit1DProducer_ParamDrift.cfi"
	include "RecoLocalMuon/DTSegment/data/DTSegment2DProducer_CombPatternReco2D_ParamDrift.cfi"
	include "RecoLocalMuon/DTSegment/data/DTSegment4DProducer_CombPatternReco4D_ParamDrift.cfi"

	
	module rechivalidation = DTRecHitQuality{
		# Switch on/off the verbosity
		untracked bool debug = true
		# Lable to retrieve SimHits from the event
		untracked string simHitLabel = 'SimG4Object'
		# Lable to retrieve RecHits from the event
		untracked string recHitLabel = 'DTRecHit1DProducer'
		# Lable to retrieve 2D segments from the event
		untracked string segment2DLabel = 'DTSegment2DProducer'
		# Lable to retrieve 4D segments from the event
		untracked string segment4DLabel = 'DTSegment4DProducer'
		# Switches for analysis at various steps
		untracked bool doStep1 = true
		untracked bool doStep2 = true
		untracked bool doStep3 = true
		# Name of the root file which will contain the histos
		untracked string rootFileName = "DTRecHitQualityPlots.root"
	}	

	 module seg2dvalidation = DTSegment2DQuality{
		# Switch on/off the verbosity
		untracked bool debug = false
		# Lable to retrieve SimHits from the event
		untracked string simHitLabel = 'SimG4Object'
		# Lable to retrieve 2D segments from the event
		untracked string segment2DLabel = 'DTSegment2DProducer'
		double sigmaResPos = 0.013
		double sigmaResAngle = 0.008
	
		# Name of the root file which will contain the histos
		untracked string rootFileName = "DTSeg2DQualityPlots.root"
	}

	module seg4dvalidation = DTSegment4DQuality{
		# Switch on/off the verbosity
		untracked bool debug = true
		# Lable to retrieve SimHits from the event
		untracked string simHitLabel = 'SimG4Object'
		# Lable to retrieve 4D segments from the event
		untracked string segment4DLabel = 'DTSegment4DProducer'
		#resolution on position
		double sigmaResX = 0.01
		double sigmaResY = 0.05
		#resolution on angle
		double sigmaResAlpha = 0.001
		double sigmaResBeta = 0.007
	
		# Name of the root file which will contain the histos
		untracked string rootFileName = "DTSeg4DQualityPlots.root"
	}
		
	path p = {mix, muondtdigi, DTRecHit1DProducer, DTSegment2DProducer,DTSegment4DProducer,rechivalidation, seg2dvalidation,seg4dvalidation}

}


